document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll("form");function t(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.toLowerCase())}e.forEach(e=>{const r=e.querySelector(".success-message");e.addEventListener("submit",s=>{let a=!0;e.querySelectorAll("input[required], select[required], textarea[required]").forEach(e=>{const r=e.nextElementSibling;if(!e.value.trim())a=!1,e.classList.add("invalid"),r&&r.classList.contains("error-message")&&(r.textContent="This field is required.");else if("email"===e.type&&!t(e.value))a=!1,e.classList.add("invalid"),r&&r.classList.contains("error-message")&&(r.textContent="Please enter a valid email.");else{if(e.classList.remove("invalid"),r&&r.classList.contains("error-message"))r.textContent=""}}),a?r&&(s.preventDefault(),r.style.display="block",setTimeout(()=>{r.style.display="none",e.reset()},5e3)):s.preventDefault()})})});
